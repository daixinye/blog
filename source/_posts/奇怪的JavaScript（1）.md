---
title: 奇怪的JavaScript（1）：基础类型篇
date: 2017-08-04 00:44:12
tags:
---

## 前言
JavaScript 是一门很奇怪的语言，它看起来很“随便”，一个变量可以赋值数字也可以赋值字符串，一个对象竟然用一对花括号就可以创建出来。
然而正是在这种“随便”的特点之下，造就了 JavaScript 无比灵活的姿态。它有着性感的体态，却也有着诡异的性格，让人琢磨不透。
那么就让我们来盘点一下，JavaScript 那些奇怪的地方吧。

## 1、tpyeof null; // object
`typeof` 是一个用于类型判断的操作符，而 null 则是五大基本数据类型之一，然而 `typeof null` 却出乎了很多初学者的预料。
没错，这个表达式返回居然是 `'object'`！
这个表达式在《JS高程》中也有特意提到，尽管 `null` 被视作对象的占位符，因此返回的是对象在技术角度上来讲是合理的，但是不得不说这个“特例”会让人觉得相当迷惑。

## 2、null == undefined; // true
返回的是 `true`，其原因是 `undefined` 派生自 `null`，在不严格的比较下两者是相等的。
反正我是没在别的语言见过这种操作啦。

## 3、Boolean(false) == true; // true
`Boolean(false)` 是一个包装对象，既然是对象那么它在不严格相等的情况都会转换成 `true`。
你可以用 `Boolean(false).valueOf()` 来获取真正的 `false` 值。

## 4、0.1 + 0.2 == 0.3; // false
“浮点数值的最高精度是17位小数，但在进行算术计算时其精确度远远不如整数”
因此，`0.1 + 0.2` 等于 `0.30000000000000004`，而不等于 `0.3` 。
这个其实在所有语言的浮点数运算中都会有类似的问题。

## 5、NaN == NaN; // false
NaN（Not a Number），有两个特点：
一是与其任何的操作都返回 `NaN`；
二是 `NaN` 与任何值都不相等。
所以 `NaN != NaN` 是成立的。
还有就是当 `0 / 0` 时也会返回 `NaN`。

## 6、"23" < "3"; // true
尽管 JS 在进行比较的时候会进行类型转换，但是在直接比较字符串的时候，它可能并不想我们预想中的那样子会直接比较“数值”（因为并没有被转换成数值）。
两个字符串进行大小比较时，比较的是字符编码。`'3'`的字符编码在`'2'`的后面，所以 `"23" < "3"` 返回的是 `true`。
需要注意的是，当比较的两个操作数，有一个是数字时，另一个字符串会被转换成数值。如：
```
"23" < 3 // false
```
与
```
23 < 3 // false
```
是等价的。